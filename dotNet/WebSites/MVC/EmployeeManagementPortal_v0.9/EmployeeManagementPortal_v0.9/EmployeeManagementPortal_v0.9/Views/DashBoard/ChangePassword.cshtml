
@if (Session["UserId"] == null)
{
    Response.Redirect("~/Login/Index");
    return;
}

@model EmployeeManagementPortal_v0._8.Models.User

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>ChangePassword</title>
    <link rel="stylesheet" type="text/css" href="../Content/main_dash.css">

    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
>
    <style>
        input {
            display: inline;
        }

        a {
            color: #0000EE;
        }
    </style>
</head>
<body>
    <div class="limiter">
        <div class="container-table100">
            <div class="wrap-table100">
                <div class="table100">
                    <br />
                    @using (Html.BeginForm())
                    {
                        @Html.AntiForgeryToken()

                        <div class="form-horizontal">
                            <h4>Change Password</h4>
                            <hr />
                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                            @Html.HiddenFor(model => model.Id)
                            <br />
                            <br />
                            <br />

                            <div>
                                <span style="width:300px">
                                    @*@Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })*@
                                    Old Password &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </span>
                                @Html.EditorFor(model => model.Password, new { htmlAttributes = new { } })
                                @Html.LabelFor(model => model.ErrorMessage, "", new { @class = "text-danger" })
                            </div>
                            <br />

                            <div>
                                <span style="width:300px">
                                    @*@Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })*@
                                    New Password &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </span>

                                @Html.EditorFor(model => model.NewPassword, new { htmlAttributes = new { } })
                                @Html.ValidationMessageFor(model => model.NewPassword, "", new { @class = "text-danger" })

                            </div>
                            <br />

                            <div>
                                <span style="width:300px">
                                    @*@Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label col-md-2" })*@
                                    Confirm New Password &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                </span>


                                @Html.EditorFor(model => model.NewRetypePassword, new { htmlAttributes = new { width = "110px" } })

                            </div>
                            <br />

                            <div class="form-group">
                                <div class="col-md-offset-2 col-md-10">
                                    <input type="submit" value="Change Password" class="btn btn btn-success" />

                                </div>
                            </div>
                            <div style="color:red">
                                @Html.DisplayFor(m => m.ErrorMessage, "", new { htmlAttributes = new { style = "color:red" } })<br />
                                @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })<br />
                                @Html.ValidationMessageFor(model => model.NewRetypePassword, "", new { @class = "text-danger" })

                            </div>
                        </div>
                    }

                    <div>
                        @Html.ActionLink("Back to List", "DashIndex")
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
