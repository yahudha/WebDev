@if (Session["UserId"] == null)
{
    Response.Redirect("~/Login/Index");
    return;
}

@model IEnumerable<EmployeeManagementPortal_v0._8.Models.User>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>DashIndex</title>
    <style>
        /* .table
        {
            top : 20%;
            left : 30%;
            position : absolute;
        }

        tr{
            padding : 2%;
        }
        td {
            padding: 2%;
        }*/

    </style>


</head>
<body style="width:95%;">
    <div align="center">
        <p style="float:left;">
            @if (Session["Role"].ToString() == "Admin")
            {
                @Html.ActionLink("Create New", "Create")
            }
            </p>
        <p style="float:right; align-items:end;">
            @Html.ActionLink("Change Password", "ChangePassword")
            <br />
            @Html.ActionLink("Logout", "Logout","Login")

        </p>
    </div>
    <br />
    <br />
    <div>
        <table class="table" width="50%">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.UserName)
                </th>
                @if (Session["Role"].ToString() == "Admin")
                {
                    <th>
                        @Html.DisplayNameFor(model => model.Password)
                    </th>
                }
                <th>
                    @Html.DisplayNameFor(model => model.Role)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Image)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.UserName)
                    </td>
                    @if (Session["Role"].ToString() == "Admin")
                    {
                        <td>
                            @Html.DisplayFor(modelItem => item.Password)
                        </td>
                    }
                    <td>
                        @Html.DisplayFor(modelItem => item.Role)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Image)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                        @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                    </td>
                </tr>
            }

        </table>
    </div>
</body>
</html>
